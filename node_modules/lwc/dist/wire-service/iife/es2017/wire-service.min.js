var WireService=function(e){"use strict";function t(e){return void 0===e}class n{constructor(e){this.type="ValueChangedEvent",this.value=e}}const{freeze:i,defineProperty:r,isExtensible:c}=Object;const{forEach:s,splice:a,indexOf:o}=Array.prototype;function l(e,t){const n=o.call(e,t);n>-1&&a.call(e,n,1)}return e.ValueChangedEvent=n,e.register=function(e,a){if(null==e||!c(e))throw new TypeError("adapter id must be extensible");if("function"!=typeof a)throw new TypeError("adapter factory must be a callable");if("adapter"in e)throw new TypeError("adapter id is already associated to an adapter factory");const o=class extends class{constructor(e){this.connecting=[],this.disconnecting=[],this.configuring=[],this.isFirstUpdate=!0,this.callback=e,this.wiredElementHost=e.$$DeprecatedWiredElementHostKey$$,this.dynamicParamsNames=e.$$DeprecatedWiredParamsMetaKey$$,this.eventTarget={addEventListener:(e,t)=>{switch(e){case"connect":this.connecting.push(t);break;case"disconnect":this.disconnecting.push(t);break;case"config":this.configuring.push(t),void 0!==this.currentConfig&&t.call(void 0,this.currentConfig);break;default:throw new Error(`Invalid event type ${e}.`)}},removeEventListener:(e,t)=>{switch(e){case"connect":l(this.connecting,t);break;case"disconnect":l(this.disconnecting,t);break;case"config":l(this.configuring,t);break;default:throw new Error(`Invalid event type ${e}.`)}},dispatchEvent:e=>{if(!(e instanceof n)){if("wirecontextevent"===e.type)return this.wiredElementHost.dispatchEvent(e);throw new Error(`Invalid event type ${e.type}.`)}{const t=e.value;this.callback(t)}return!1}}}update(e){var n,i;(!this.isFirstUpdate||(this.isFirstUpdate=!1,function(e){return 0===Object.keys(e).length}(e)||function(e,n){return 0===n.length||n.some(n=>!t(e[n]))}(e,this.dynamicParamsNames)))&&((t(this.currentConfig)||(n=e,i=this.currentConfig,this.dynamicParamsNames.some(e=>n[e]!==i[e])))&&(this.currentConfig=e,s.call(this.configuring,t=>{t.call(void 0,e)})))}connect(){s.call(this.connecting,e=>e.call(void 0))}disconnect(){s.call(this.disconnecting,e=>e.call(void 0))}}{constructor(e){super(e),a(this.eventTarget)}};i(o),i(o.prototype),r(e,"adapter",{writable:!1,configurable:!1,value:o})},e.registerWireService=function(){},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
